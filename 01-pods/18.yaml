# Create a Pod with securityContext set to run as user 1001 and with readOnlyRootFilesystem.
# Ref: https://medium.com/datamindedbe/improve-the-security-of-pods-on-kubernetes-3e4a81534674
apiVersion: v1
kind: Pod
metadata:
  name: pod-security-context
spec:
  securityContext:
    runAsUser: 1001
    runAsNonRoot: true
  volumes:
  - name: sec-ctx-vol
    emptyDir: {}
  containers:
  - name: sec-ctx-demo
    image: busybox:1.28
    command: [ "sh", "-c", "sleep 1h" ]
    securityContext:
      readOnlyRootFilesystem: true
      runAsUser: 1001
      runAsNonRoot: true

